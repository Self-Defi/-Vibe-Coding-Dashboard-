<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Vibe Coded Studio — Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Vibe Coded Studio Dashboard — UI-only build generator. Everything starts with the Thought." />
  <meta name="theme-color" content="#070b14" />

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Vibe Coded Studio" />
  <meta property="og:title" content="Vibe Coded Studio — Dashboard" />
  <meta property="og:description" content="It turns a written idea into something you can see, share, and build on." />
  <meta property="og:url" content="https://self-defi.github.io/-Vibe-Coding-Dashboard-/" />
  <meta property="og:image" content="https://self-defi.github.io/-Vibe-Coding-Dashboard-/vc-github-thumbnail.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter / X -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Vibe Coded Studio — Dashboard" />
  <meta name="twitter:description" content="It turns a written idea into something you can see, share, and build on." />
  <meta name="twitter:image" content="https://self-defi.github.io/-Vibe-Coding-Dashboard-/vc-github-thumbnail.png" />

  <style>
    :root{
      --bg0:#070b14;
      --bg1:#0b1220;

      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.70);
      --muted2:rgba(255,255,255,.55);

      --card:rgba(255,255,255,.06);
      --card2:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.10);

      --shadow:0 16px 48px rgba(0,0,0,.45);
      --radius:18px;
      --radius2:22px;

      --pill:999px;
      --accent:#d9468d;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 50% -10%, rgba(217,70,141,.22), transparent 60%),
        radial-gradient(900px 700px at 10% 10%, rgba(80,140,255,.16), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    /* subtle grid */
    .bgGrid{
      position:fixed; inset:0;
      background-image:
        linear-gradient(rgba(255,255,255,.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.05) 1px, transparent 1px);
      background-size: 56px 56px;
      opacity:.18;
      pointer-events:none;
    }

    .wrap{
      max-width:1160px;
      margin:0 auto;
      padding:22px 18px 64px;
    }

    /* Topbar */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
      margin-bottom:14px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width: 260px;
    }

    .brandLogo{
      width:38px; height:38px;
      border-radius:12px;
      box-shadow:0 10px 24px rgba(0,0,0,.35);
      object-fit:cover;
      display:block;
      background:rgba(255,255,255,.06);
    }

    .brandText{display:flex; flex-direction:column}
    .brandName{font-weight:900; letter-spacing:.2px}
    .brandTag{color:var(--muted2); font-size:12.5px; margin-top:2px}

    .topbarRight{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .pill{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.03);
      color:var(--text);
      border-radius:var(--pill);
      padding:10px 12px;
      font-size:13px;
      display:inline-flex;
      gap:10px;
      align-items:center;
      white-space:nowrap;
    }
    .pillDot{
      width:8px; height:8px;
      border-radius:999px;
      background:rgba(217,70,141,.95);
      box-shadow:0 0 0 1px rgba(255,255,255,.10);
    }

    .btnPrimary{
      border:0;
      padding:10px 14px;
      border-radius: var(--pill);
      font-weight:900;
      font-size:14px;
      background: var(--accent);
      color:white;
      box-shadow:0 14px 34px rgba(217,70,141,.22);
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      white-space:nowrap;
    }
    .btnPrimary:hover{filter:brightness(1.05)}
    .btnPrimary:active{transform:translateY(1px)}

    /* Hero */
    .hero{
      padding:8px 0 14px;
      border-bottom:1px solid rgba(255,255,255,.08);
      margin-bottom:18px;
    }
    .heroTitle{
      margin:0;
      font-size: clamp(34px, 4.6vw, 56px);
      line-height:1.06;
      letter-spacing:-.6px;
      font-weight:950;
    }
    .heroSub{
      margin:10px 0 0;
      font-size: clamp(15px, 1.9vw, 18px);
      color:var(--muted);
      max-width: 70ch;
      line-height:1.55;
    }

    /* Panels */
    .panel{
      border-radius:var(--radius2);
      border:1px solid var(--border);
      background: rgba(0,0,0,.16);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .panel + .panel{ margin-top:14px; }

    .panelHead{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .panelTitle{
      margin:0;
      font-size:16px;
      font-weight:900;
      letter-spacing:.2px;
    }
    .panelMeta{
      color:var(--muted2);
      font-size:12.5px;
      white-space:nowrap;
      margin-top:2px;
    }

    /* Fields */
    .fieldLabel{
      font-size:12.5px;
      color:var(--muted2);
      margin:12px 0 8px;
    }

    .subLabel{
      margin:0 0 8px;
      font-weight:900;
      color:rgba(255,255,255,.88);
    }

    textarea.input, select.input{
      width:100%;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color:var(--text);
      outline:none;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.15);
    }

    textarea.input{
      min-height:160px;
      padding:14px;
      resize:vertical;
      line-height:1.45;
      font-size:14.5px;
    }

    select.input{
      padding:12px 12px;
      font-size:14.5px;
      appearance:none;
      background-image:
        linear-gradient(45deg, transparent 50%, rgba(255,255,255,.70) 50%),
        linear-gradient(135deg, rgba(255,255,255,.70) 50%, transparent 50%),
        linear-gradient(to right, transparent, transparent);
      background-position:
        calc(100% - 18px) calc(1em + 2px),
        calc(100% - 13px) calc(1em + 2px),
        0 0;
      background-size:5px 5px, 5px 5px, 2.5em 2.5em;
      background-repeat:no-repeat;
    }

    .btnRow{
      display:flex;
      gap:12px;
      align-items:center;
      flex-wrap:wrap;
      margin-top:12px;
    }

    .btnSecondary{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      color:rgba(255,255,255,.86);
      border-radius: var(--pill);
      padding:10px 14px;
      font-weight:850;
      cursor:pointer;
    }
    .btnSecondary:hover{border-color:rgba(255,255,255,.22)}
    .btnSecondary:active{transform:translateY(1px)}

    .statusText{
      color:var(--muted2);
      font-size:12.5px;
      margin-left:4px;
    }

    .btnPrimary[disabled]{
      opacity:.45;
      cursor:not-allowed;
      transform:none !important;
      filter:none !important;
    }

    .boundaries{
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding:12px 14px;
      color:var(--muted);
      line-height:1.55;
    }
    .boundaries strong{color:rgba(255,255,255,.86)}

    /* Deliverables */
    .deliverHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .deliverTitle{
      margin:0;
      font-size:16px;
      font-weight:900;
    }
    .deliverMeta{
      color:var(--muted2);
      font-size:12.5px;
      white-space:nowrap;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .appVer{
      opacity:.85;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
    }

    .tabs{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin:8px 0 12px;
    }
    .tab{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      color:rgba(255,255,255,.86);
      border-radius:999px;
      padding:10px 12px;
      font-weight:850;
      cursor:pointer;
      user-select:none;
    }
    .tab.active{
      border-color: rgba(217,70,141,.55);
      box-shadow:0 0 0 2px rgba(217,70,141,.12);
    }

    .deliverCard{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding:14px;
      min-height:180px;
      position:relative;
    }

    .deliverCardHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .deliverCardTitle{
      margin:0;
      font-weight:900;
      font-size:16px;
    }

    .miniBtn{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      color:rgba(255,255,255,.86);
      border-radius:999px;
      padding:10px 12px;
      font-weight:850;
      cursor:pointer;
      white-space:nowrap;
    }
    .miniBtn:hover{border-color:rgba(255,255,255,.22)}
    .miniBtn:active{transform:translateY(1px)}
    .miniBtn[disabled]{opacity:.45; cursor:not-allowed; transform:none !important;}

    .placeholderBox{
      border:1px dashed rgba(255,255,255,.14);
      border-radius:16px;
      padding:14px;
      color:var(--muted2);
      min-height:120px;
      display:flex;
      align-items:flex-start;
      line-height:1.55;
    }

    /* Footer */
    .footer{
      margin-top:18px;
      padding-top:16px;
      border-top:1px solid rgba(255,255,255,.10);
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }
    .footerBrand{
      font-weight:900;
      letter-spacing:.2px;
      margin-bottom:6px;
    }
    .footerMeta{
      color:var(--muted2);
      font-size:12.8px;
      line-height:1.55;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    .footerMeta .sep{opacity:.45}
    .footerMeta a{
      color: rgba(255,255,255,.86);
      text-decoration:none;
      border-bottom: 1px dashed rgba(255,255,255,.22);
    }
    .footerMeta a:hover{
      border-bottom-color: rgba(217,70,141,.65);
      color: rgba(255,255,255,.98);
    }
    .footerRight{
      color:var(--muted2);
      font-size:12.8px;
      display:flex;
      align-items:center;
      gap:10px;
      margin-left:auto;
      white-space:nowrap;
    }

    @media (max-width: 980px){
      .footer{align-items:flex-start}
      .footerRight{margin-left:0}
    }
  </style>
</head>

<body>
  <div class="bgGrid" aria-hidden="true"></div>

  <div class="wrap">

    <!-- Topbar -->
    <div class="topbar">
      <div class="brand">
        <img src="./vc-logo-transparent.png" alt="Vibe Coded Studio logo" class="brandLogo"
             onerror="this.style.display='none';" />
        <div class="brandText">
          <div class="brandName">Vibe Coded Studio</div>
          <div class="brandTag">Dashboard · UI-only build generator</div>
        </div>
      </div>

      <div class="topbarRight">
        <div class="pill"><span class="pillDot"></span> Non-custodial · No backend</div>
        <a class="btnPrimary" href="https://self-defi.github.io/Ownership-Tutorial-/" target="_blank" rel="noopener">
          Tutorial
        </a>
      </div>
    </div>

    <!-- HERO -->
    <div class="hero">
      <h1 class="heroTitle">Tell us what you want built.</h1>
      <p class="heroSub">It turns a written idea into something you can see, share, and build on.</p>
    </div>

    <!-- BUILD SETUP -->
    <section class="panel" id="build">
      <div class="panelHead">
        <h2 class="panelTitle">Build Setup</h2>
        <div class="panelMeta" id="lastLoaded">Loaded last request</div>
      </div>

      <!-- THE THOUGHT -->
      <div class="fieldLabel">Your request</div>
      <p class="subLabel">Explain the pain point you want solved.</p>
      <textarea
        id="thought"
        class="input"
        placeholder="Example: I want a system that automatically finds leads and follows up for me."
      ></textarea>

      <!-- System type -->
      <div class="fieldLabel">System type</div>
      <select id="systemType" class="input">
        <option>AI automation system</option>
        <option>Non-custodial custody workflow</option>
        <option>DAO governance workflow</option>
        <option>Wallet integration + onboarding</option>
        <option>Content + IPFS publishing pipeline</option>
        <option>Lead gen + follow-up engine</option>
        <option>Internal ops / control tower</option>
      </select>

      <div class="btnRow">
        <button id="generateBtn" class="btnPrimary" disabled>Generate first build</button>
        <button id="resetBtn" class="btnSecondary" type="button">Reset</button>
        <span class="statusText" id="statusText">Write the Thought first.</span>
      </div>

      <div style="height:12px"></div>

      <div class="boundaries">
        <strong>Boundaries:</strong> This generates a starting point (docs + static scaffold + visualization).
        It does <em>not</em> imply production readiness, security validation, compliance, or guarantees.
      </div>
    </section>

    <!-- DELIVERABLES -->
    <section class="panel" id="deliverables">
      <div class="deliverHead">
        <h2 class="deliverTitle">Deliverables</h2>
        <div class="deliverMeta">
          <span>UI preview</span>
          <span class="appVer" id="appVer">APP v2026-01-07.1</span>
        </div>
      </div>

      <div class="tabs" role="tablist" aria-label="Deliverables tabs">
        <div class="tab active" data-tab="system">System Image</div>
        <div class="tab" data-tab="repo">Repo Files</div>
        <div class="tab" data-tab="download">Download</div>
      </div>

      <!-- Tab: System -->
      <div class="deliverCard" id="tab-system">
        <div class="deliverCardHead">
          <h3 class="deliverCardTitle">System visualization (SVG)</h3>
          <button class="miniBtn" id="downloadSvgBtn" disabled>Download SVG</button>
        </div>
        <div class="placeholderBox" id="svgBox">
          Generate a build to preview the system visualization.
        </div>

        <div style="height:12px"></div>

        <div class="deliverCardHead">
          <h3 class="deliverCardTitle">Canonical image prompt (SoT)</h3>
          <button class="miniBtn" id="copyPromptBtn" disabled>Copy prompt</button>
        </div>
        <div class="placeholderBox" id="promptBox">
          Generate a build to produce the locked prompt.
        </div>
      </div>

      <!-- Tab: Repo -->
      <div class="deliverCard" id="tab-repo" style="display:none;">
        <div class="deliverCardHead">
          <h3 class="deliverCardTitle">Repo files (preview)</h3>
          <button class="miniBtn" id="copyFilesBtn" disabled>Copy file list</button>
        </div>
        <div class="placeholderBox" id="repoBox">
          Generate a build to preview the repository scaffold (UI-only).
        </div>
      </div>

      <!-- Tab: Download -->
      <div class="deliverCard" id="tab-download" style="display:none;">
        <div class="deliverCardHead">
          <h3 class="deliverCardTitle">Download bundle</h3>
          <button class="miniBtn" id="downloadZipBtn" disabled>Download ZIP</button>
        </div>
        <div class="placeholderBox" id="downloadBox">
          Generate a build to enable downloads.
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div>
        <div class="footerBrand">Vibe Coded Studio</div>
        <div class="footerMeta">
          <span>Ownership First</span>
          <span class="sep">·</span>
          <span>Powered by Self-Defi</span>
          <span class="sep">·</span>
          <a href="https://github.com/Self-Defi/-Vibe-Coding-Dashboard-/blob/main/LICENSE.md" target="_blank" rel="noopener">License</a>
        </div>
      </div>

      <div class="footerRight">
        <span>© <span id="yr"></span> Vibe Coded Studio</span>
      </div>
    </footer>

  </div>

  <script>
    // ===== Helpers
    const $ = (id) => document.getElementById(id);

    const thought = $("thought");
    const systemType = $("systemType");
    const generateBtn = $("generateBtn");
    const resetBtn = $("resetBtn");
    const statusText = $("statusText");

    const svgBox = $("svgBox");
    const promptBox = $("promptBox");
    const repoBox = $("repoBox");
    const downloadBox = $("downloadBox");

    const downloadSvgBtn = $("downloadSvgBtn");
    const copyPromptBtn = $("copyPromptBtn");
    const copyFilesBtn = $("copyFilesBtn");
    const downloadZipBtn = $("downloadZipBtn");

    const tabs = Array.from(document.querySelectorAll(".tab"));
    const tabSystem = $("tab-system");
    const tabRepo = $("tab-repo");
    const tabDownload = $("tab-download");

    $("yr").textContent = new Date().getFullYear();

    // Persist last request (UI-only)
    const KEY = "vcs_dashboard_last_request_v1";

    function setGenerateEnabled(){
      const hasThought = thought.value.trim().length > 0;
      generateBtn.disabled = !hasThought;
      statusText.textContent = hasThought
        ? 'Ready. Click "Generate first build".'
        : "Write the Thought first.";
    }

    thought.addEventListener("input", setGenerateEnabled);
    setGenerateEnabled();

    // Tabs
    function showTab(which){
      tabs.forEach(t => t.classList.toggle("active", t.dataset.tab === which));
      tabSystem.style.display = which === "system" ? "block" : "none";
      tabRepo.style.display = which === "repo" ? "block" : "none";
      tabDownload.style.display = which === "download" ? "block" : "none";
    }
    tabs.forEach(t => t.addEventListener("click", () => showTab(t.dataset.tab)));

    // Fake build generation (UI-only)
    function buildMock(){
      const t = thought.value.trim();
      const sys = systemType.value;

      const canonicalPrompt =
`SYSTEM: Vibe Coded Studio (UI-only)
GOAL: Turn the user's written Thought into a starter scaffold: docs + static repo + simple system visualization.
BOUNDARIES: No backend. No security claims. No guarantees.

THOUGHT:
"${t}"

SYSTEM TYPE: ${sys}

DELIVERABLES:
1) README outline (what it is, boundaries, how to publish)
2) /index.html scaffold (static)
3) /assets placeholders
4) Simple SVG system diagram description
`;

      const safeText = (s) => s.replace(/[<>&"]/g, c => ({'<':'&lt;','>':'&gt;','&':'&amp;','"':'&quot;'}[c]));
      const short = t.length > 72 ? t.slice(0, 72) + "…" : t;

      const svg =
`<svg xmlns="http://www.w3.org/2000/svg" width="960" height="420" viewBox="0 0 960 420">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#d9468d" stop-opacity="0.35"/>
      <stop offset="1" stop-color="#4f8cff" stop-opacity="0.20"/>
    </linearGradient>
  </defs>
  <rect x="18" y="18" width="924" height="384" rx="22" fill="rgba(0,0,0,0.35)" stroke="rgba(255,255,255,0.14)"/>
  <rect x="48" y="52" width="864" height="78" rx="18" fill="url(#g)" stroke="rgba(255,255,255,0.14)"/>
  <text x="70" y="92" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="22" fill="rgba(255,255,255,0.92)" font-weight="800">THE THOUGHT</text>
  <text x="70" y="118" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="rgba(255,255,255,0.72)">${safeText(short)}</text>

  <rect x="48" y="150" width="270" height="110" rx="18" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.14)"/>
  <text x="70" y="186" font-family="system-ui" font-size="16" fill="rgba(255,255,255,0.90)" font-weight="800">Docs</text>
  <text x="70" y="210" font-family="system-ui" font-size="13" fill="rgba(255,255,255,0.65)">README + boundaries</text>

  <rect x="345" y="150" width="270" height="110" rx="18" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.14)"/>
  <text x="367" y="186" font-family="system-ui" font-size="16" fill="rgba(255,255,255,0.90)" font-weight="800">Repo Scaffold</text>
  <text x="367" y="210" font-family="system-ui" font-size="13" fill="rgba(255,255,255,0.65)">Static files only</text>

  <rect x="642" y="150" width="270" height="110" rx="18" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.14)"/>
  <text x="664" y="186" font-family="system-ui" font-size="16" fill="rgba(255,255,255,0.90)" font-weight="800">Visualization</text>
  <text x="664" y="210" font-family="system-ui" font-size="13" fill="rgba(255,255,255,0.65)">SVG preview</text>

  <path d="M318 205 L345 205" stroke="rgba(217,70,141,0.9)" stroke-width="3" stroke-linecap="round"/>
  <path d="M615 205 L642 205" stroke="rgba(217,70,141,0.75)" stroke-width="3" stroke-linecap="round"/>

  <rect x="48" y="284" width="864" height="92" rx="18" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.10)"/>
  <text x="70" y="320" font-family="system-ui" font-size="16" fill="rgba(255,255,255,0.90)" font-weight="800">System type:</text>
  <text x="170" y="320" font-family="system-ui" font-size="16" fill="rgba(255,255,255,0.72)">${safeText(sys)}</text>
</svg>`;

      const files =
`/ (repo root)
  index.html
  README.md
  /assets
    vc-logo-transparent.png
    vc-github-thumbnail.png
  /docs
    overview.md
    boundaries.md
  /diagrams
    system.svg`;

      return { canonicalPrompt, svg, files };
    }

    function setGeneratedUI(payload){
      svgBox.innerHTML = payload.svg;
      promptBox.textContent = payload.canonicalPrompt;
      repoBox.textContent = payload.files;
      downloadBox.textContent = "UI-only: Download bundle is enabled (preview).";

      downloadSvgBtn.disabled = false;
      copyPromptBtn.disabled = false;
      copyFilesBtn.disabled = false;
      downloadZipBtn.disabled = false;

      statusText.textContent = "Generated. You can now preview deliverables.";
    }

    function saveLastRequest(){
      const data = {
        thought: thought.value,
        systemType: systemType.value,
        at: new Date().toISOString()
      };
      localStorage.setItem(KEY, JSON.stringify(data));
    }

    function loadLastRequest(){
      try{
        const raw = localStorage.getItem(KEY);
        if(!raw) return;
        const data = JSON.parse(raw);
        if(data.thought) thought.value = data.thought;
        if(data.systemType) systemType.value = data.systemType;
        setGenerateEnabled();
      }catch(e){}
    }

    // Buttons
    generateBtn.addEventListener("click", () => {
      const payload = buildMock();
      setGeneratedUI(payload);
      saveLastRequest();
    });

    resetBtn.addEventListener("click", () => {
      thought.value = "";
      systemType.selectedIndex = 0;

      svgBox.textContent = "Generate a build to preview the system visualization.";
      promptBox.textContent = "Generate a build to produce the locked prompt.";
      repoBox.textContent = "Generate a build to preview the repository scaffold (UI-only).";
      downloadBox.textContent = "Generate a build to enable downloads.";

      downloadSvgBtn.disabled = true;
      copyPromptBtn.disabled = true;
      copyFilesBtn.disabled = true;
      downloadZipBtn.disabled = true;

      localStorage.removeItem(KEY);
      setGenerateEnabled();
    });

    // Download SVG
    downloadSvgBtn.addEventListener("click", () => {
      const svgEl = svgBox.querySelector("svg");
      if(!svgEl) return;
      const blob = new Blob([svgEl.outerHTML], { type: "image/svg+xml;charset=utf-8" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "system.svg";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });

    // Copy prompt / files
    async function copyText(txt){
      try{
        await navigator.clipboard.writeText(txt);
        statusText.textContent = "Copied.";
        setTimeout(() => setGenerateEnabled(), 900);
      }catch(e){
        statusText.textContent = "Copy blocked by browser.";
        setTimeout(() => setGenerateEnabled(), 1200);
      }
    }

    copyPromptBtn.addEventListener("click", () => copyText(promptBox.textContent));
    copyFilesBtn.addEventListener("click", () => copyText(repoBox.textContent));

    // Download "ZIP" (UI-only fake — exports a .txt bundle to keep it honest)
    downloadZipBtn.addEventListener("click", () => {
      const payload = buildMock();
      const bundle =
`VIBE CODED STUDIO — UI-ONLY BUNDLE (NOT A REAL BUILD)
====================================================

THOUGHT
------
${thought.value.trim()}

SYSTEM TYPE: ${systemType.value}

CANONICAL PROMPT
---------------
${payload.canonicalPrompt}

REPO FILES
---------
${payload.files}

SVG (inline)
-----------
${payload.svg}
`;
      const blob = new Blob([bundle], { type: "text/plain;charset=utf-8" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "vcs-ui-only-bundle.txt";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });

    // Load last request on open
    loadLastRequest();
  </script>
</body>
</html>
