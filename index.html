<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Vibe Coded Studio — Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Vibe Coded Studio Dashboard — generate a UI-only first build (docs + static scaffold + visualization). No backend." />
  <meta name="theme-color" content="#070b14" />

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Vibe Coded Studio" />
  <meta property="og:title" content="Vibe Coded Studio — Dashboard" />
  <meta property="og:description" content="Generate a UI-only first build (docs + static scaffold + visualization). Ownership-first." />
  <meta property="og:url" content="https://self-defi.github.io/-Vibe-Coding-Dashboard-/" />
  <!-- IMPORTANT: file must exist at this exact path + name in the Dashboard repo -->
  <meta property="og:image" content="https://self-defi.github.io/-Vibe-Coding-Dashboard-/vc-github-thumbnail.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter / X -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Vibe Coded Studio — Dashboard" />
  <meta name="twitter:description" content="Generate a UI-only first build (docs + static scaffold + visualization). Ownership-first." />
  <meta name="twitter:image" content="https://self-defi.github.io/-Vibe-Coding-Dashboard-/vc-github-thumbnail.png" />

  <style>
    :root{
      --bg0:#070b14;
      --bg1:#0b1220;
      --card:rgba(255,255,255,.06);
      --card2:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.10);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.70);
      --muted2:rgba(255,255,255,.55);
      --shadow: 0 16px 48px rgba(0,0,0,.45);
      --radius:16px;
      --radius2:22px;
      --pill:999px;
      --accent:#d9468d;
      --accent2:#508cff;
      --ok:#16a34a;
      --warn:#f59e0b;
      --bad:#ef4444;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 50% -10%, rgba(217,70,141,.22), transparent 60%),
        radial-gradient(900px 700px at 10% 10%, rgba(80,140,255,.16), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    /* subtle grid */
    .bgGrid{
      position:fixed; inset:0;
      background-image:
        linear-gradient(rgba(255,255,255,.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.05) 1px, transparent 1px);
      background-size: 56px 56px;
      opacity:.18;
      pointer-events:none;
    }

    .wrap{
      max-width:1160px;
      margin:0 auto;
      padding:16px 16px 48px;
    }

    /* Topbar */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:14px 0 10px;
    }

    .brand{display:flex; align-items:center; gap:12px; min-width: 240px}
    .brandLogo{
      width:40px; height:40px;
      border-radius:12px;
      box-shadow:0 10px 24px rgba(0,0,0,.35);
      object-fit:cover;
      display:block;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
    }
    .brandText{display:flex; flex-direction:column; line-height:1.1}
    .brandName{font-weight:900; letter-spacing:.2px}
    .brandTag{color:var(--muted2); font-size:12.5px; margin-top:4px}

    .topbarRight{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .pill{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.03);
      color:var(--text);
      border-radius:var(--pill);
      padding:10px 12px;
      font-size:13px;
      cursor:pointer;
      user-select:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .pill:hover{border-color:rgba(255,255,255,.20)}
    .pillDot{
      width:8px;height:8px;border-radius:99px;
      background: rgba(217,70,141,.95);
      box-shadow:0 0 0 1px rgba(255,255,255,.08);
    }

    .btnPrimary{
      border:0;
      padding:10px 14px;
      border-radius: var(--pill);
      font-weight:900;
      font-size:14px;
      background: var(--accent);
      color:white;
      box-shadow:0 14px 34px rgba(217,70,141,.22);
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      white-space:nowrap;
    }
    .btnPrimary:hover{filter:brightness(1.05)}
    .btnPrimary:active{transform:translateY(1px)}
    .btnGhost{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      color: var(--text);
      padding:10px 14px;
      border-radius: var(--pill);
      font-weight:850;
      font-size:14px;
      cursor:pointer;
    }
    .btnGhost:hover{border-color:rgba(255,255,255,.22)}
    .btnGhost:active{transform:translateY(1px)}

    /* Hero */
    .hero{padding:10px 0 12px}
    .heroTitle{
      margin:0;
      font-size: clamp(28px, 4.0vw, 44px);
      line-height:1.08;
      letter-spacing:-.6px;
    }
    .heroSub{
      margin:10px 0 0;
      font-size: clamp(14px, 1.8vw, 18px);
      color:var(--muted);
      max-width: 78ch;
      line-height:1.5;
    }

    /* Panels */
    .panel{
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .stack{display:grid; gap:14px}

    .panelHead{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom:12px;
    }
    .panelTitle{margin:0; font-size:16px}
    .panelMeta{color:var(--muted2); font-size:12.5px}

    .divider{height:1px; background:rgba(255,255,255,.10); margin:14px 0}

    /* Form */
    .formGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
      margin-top:8px;
    }

    .field{
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .label{
      color:var(--muted2);
      font-size:12.5px;
      letter-spacing:.2px;
    }
    .select, .input{
      width:100%;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      color: var(--text);
      padding:12px 12px;
      font-size:14px;
      outline:none;
    }
    .select:focus, .input:focus{
      border-color: rgba(217,70,141,.55);
      box-shadow: 0 0 0 3px rgba(217,70,141,.12);
    }

    .rowActions{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
    }

    .hint{
      color:var(--muted2);
      font-size:12.6px;
      line-height:1.45;
    }

    .boundary{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding:12px 12px;
      color: var(--muted);
      line-height:1.5;
    }
    .boundary strong{color: rgba(255,255,255,.86)}
    .boundary em{color: rgba(255,255,255,.80); font-style:italic}

    /* Tabs */
    .tabsRow{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }
    .tab{
      border-radius: var(--pill);
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      padding:10px 12px;
      font-weight:850;
      font-size:14px;
      cursor:pointer;
      user-select:none;
    }
    .tab[aria-selected="true"]{
      border-color: rgba(217,70,141,.55);
      box-shadow: 0 0 0 3px rgba(217,70,141,.12);
    }

    .kpiRow{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
      margin-top:10px;
      flex-wrap:wrap;
    }
    .muted{color:var(--muted); margin:0; line-height:1.55}

    /* Output blocks */
    .block{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding:14px;
    }
    .blockHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .blockTitle{margin:0; font-weight:900}
    .blockBtn{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      color: var(--text);
      padding:9px 12px;
      border-radius: var(--pill);
      font-weight:850;
      cursor:pointer;
    }
    .blockBtn:hover{border-color:rgba(255,255,255,.22)}
    .placeholder{
      border:1px dashed rgba(255,255,255,.14);
      border-radius: 16px;
      padding:14px;
      color: rgba(255,255,255,.55);
      min-height: 150px;
      display:flex;
      align-items:flex-start;
    }
    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      line-height:1.45;
      white-space:pre-wrap;
    }

    /* Footer */
    footer{
      margin-top:16px;
      padding-top:16px;
      border-top:1px solid rgba(255,255,255,.10);
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .footerLeft{
      min-width: 260px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .footerBrand{font-weight:900; font-size:16px; letter-spacing:.2px}
    .footerMeta{
      color:var(--muted2);
      font-size:12.8px;
      line-height:1.55;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    .sep{opacity:.45}
    .footerMeta a{
      color: rgba(255,255,255,.86);
      text-decoration:none;
      border-bottom: 1px dashed rgba(255,255,255,.22);
    }
    .footerMeta a:hover{
      border-bottom-color: rgba(217,70,141,.65);
      color: rgba(255,255,255,.98);
    }
    .footerRight{
      color:var(--muted2);
      font-size:12.8px;
      display:flex;
      align-items:center;
      gap:10px;
      white-space:nowrap;
      margin-left:auto;
    }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform:translateX(-50%);
      background: rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.92);
      padding:10px 12px;
      border-radius: 999px;
      box-shadow: 0 16px 44px rgba(0,0,0,.55);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index:9999;
      font-size:13.5px;
    }
    .toast.show{
      opacity:1;
      transform:translateX(-50%) translateY(-2px);
    }

    @media (max-width: 980px){
      .formGrid{grid-template-columns:1fr}
      .footerRight{margin-left:0}
    }
  </style>
</head>

<body>
  <div class="bgGrid" aria-hidden="true"></div>

  <div class="wrap">
    <!-- Topbar -->
    <div class="topbar">
      <div class="brand">
        <!-- If your Dashboard repo uses a different filename, update ONLY this line -->
        <img
          src="./vc-logo-transparent.png"
          onerror="this.onerror=null;this.src='./vc-logo.png';"
          alt="Vibe Coded Studio logo"
          class="brandLogo"
        />
        <div class="brandText">
          <div class="brandName">Vibe Coded Studio</div>
          <div class="brandTag">Dashboard · UI-only build generator</div>
        </div>
      </div>

      <div class="topbarRight">
        <div class="pill" id="pillStatus" title="UI-only mode">
          <span class="pillDot" aria-hidden="true"></span>
          Non-custodial · No backend
        </div>
        <a class="btnPrimary" href="https://self-defi.github.io/Ownership-Tutorial-/" target="_blank" rel="noopener">
          Tutorial
        </a>
      </div>
    </div>

    <!-- Hero -->
    <div class="hero">
      <h1 class="heroTitle">Dashboard</h1>
      <p class="heroSub">
        Generate a clean starting point (docs + static scaffold + visualization). This page is UI-only — it does not
        generate real files server-side. It’s meant to communicate structure, boundaries, and deliverables.
      </p>
    </div>

    <div class="stack">
      <!-- Generator Panel -->
      <section class="panel">
        <div class="panelHead">
          <h2 class="panelTitle">Build Setup</h2>
          <div class="panelMeta" id="metaLoaded">Loaded last request</div>
        </div>

        <div class="formGrid">
          <div class="field">
            <div class="label">System type</div>
            <select class="select" id="systemType">
              <option>Non-custodial custody workflow</option>
              <option>DAO treasury dashboard</option>
              <option>Tokenized RWA vault overview</option>
              <option>Micro-school transparency hub</option>
              <option>Personal knowledge base (docs-first)</option>
            </select>
          </div>

          <div class="field">
            <div class="label">Action</div>
            <select class="select" id="actionType">
              <option>AI Agent Builder</option>
              <option>Workflow Automations</option>
              <option>DAO Governance</option>
              <option>Wallet Integration</option>
              <option>Landing Page Builder</option>
              <option>Docs Pack Generator</option>
              <option>Brand Kit Scaffold</option>
            </select>
          </div>
        </div>

        <div class="rowActions">
          <button class="btnPrimary" id="btnGenerate">Generate first build</button>
          <button class="btnGhost" id="btnReset">Reset</button>
          <span class="hint" id="hintLine">Ready. Click “Generate first build”.</span>
        </div>

        <div style="height:10px"></div>

        <div class="boundary">
          <strong>Boundaries:</strong> This generates a starting point (docs + static scaffold + visualization).
          It does <em>not</em> imply production readiness, security validation, compliance, or guarantees.
        </div>
      </section>

      <!-- Deliverables / Tabs -->
      <section class="panel">
        <div class="panelHead">
          <h2 class="panelTitle">Deliverables</h2>
          <div class="panelMeta" id="metaDeliverables">UI preview</div>
        </div>

        <div class="tabsRow" role="tablist" aria-label="Deliverables tabs">
          <div class="tab" role="tab" tabindex="0" aria-selected="true" id="tabSystem">System Image</div>
          <div class="tab" role="tab" tabindex="-1" aria-selected="false" id="tabRepo">Repo Files</div>
          <div class="tab" role="tab" tabindex="-1" aria-selected="false" id="tabDownload">Download</div>
        </div>

        <div class="divider"></div>

        <!-- Content: System Image -->
        <div id="panelSystem" class="stack">
          <div class="block">
            <div class="blockHead">
              <p class="blockTitle">System visualization (SVG)</p>
              <button class="blockBtn" id="btnDownloadSvg" type="button">Download SVG</button>
            </div>
            <div class="placeholder">
              <div class="mono" id="svgArea">Generate a build to preview the system visualization.</div>
            </div>
          </div>

          <div class="block">
            <div class="blockHead">
              <p class="blockTitle">Canonical image prompt (SoT)</p>
              <button class="blockBtn" id="btnCopyPrompt" type="button">Copy prompt</button>
            </div>
            <div class="placeholder">
              <div class="mono" id="promptArea">Generate a build to produce the locked prompt.</div>
            </div>
          </div>
        </div>

        <!-- Content: Repo Files -->
        <div id="panelRepo" class="stack" style="display:none">
          <div class="block">
            <div class="blockHead">
              <p class="blockTitle">Repo scaffold (preview)</p>
              <button class="blockBtn" id="btnCopyRepo" type="button">Copy tree</button>
            </div>
            <div class="placeholder">
              <div class="mono" id="repoArea">Generate a build to preview the repo files list.</div>
            </div>
          </div>

          <div class="block">
            <div class="blockHead">
              <p class="blockTitle">Notes</p>
              <button class="blockBtn" id="btnCopyNotes" type="button">Copy notes</button>
            </div>
            <div class="placeholder">
              <div class="mono" id="notesArea">Generate a build to produce setup notes.</div>
            </div>
          </div>
        </div>

        <!-- Content: Download -->
        <div id="panelDownload" class="stack" style="display:none">
          <div class="block">
            <div class="blockHead">
              <p class="blockTitle">Download</p>
              <button class="blockBtn" id="btnDownloadZip" type="button">Download ZIP</button>
            </div>
            <div class="placeholder">
              <div class="mono" id="dlArea">UI-only. No backend packaging is available on this page.</div>
            </div>
          </div>

          <p class="muted">
            If you want real file generation, you’ll wire a build pipeline later (or export static templates).
            This dashboard stays “ownership-first”: you control hosting and publishing.
          </p>
        </div>
      </section>

      <!-- Footer -->
      <footer>
        <div class="footerLeft">
          <div class="footerBrand">Vibe Coded Studio</div>
          <div class="footerMeta">
            <span>Ownership First</span>
            <span class="sep">·</span>
            <span>Powered by Self-Defi</span>
            <span class="sep">·</span>
            <span>Digital Infrastructure Architect</span>
            <span class="sep">·</span>
            <a
              href="https://github.com/Self-Defi/-Vibe-Coding-Dashboard-/blob/main/LICENSE.md"
              target="_blank" rel="noopener"
            >License</a>
          </div>
        </div>

        <div class="footerRight">
          <span>© <span id="yr"></span> Vibe Coded Studio</span>
        </div>
      </footer>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">Copied.</div>

  <script>
    // Year
    document.getElementById("yr").textContent = new Date().getFullYear();

    // Tabs
    const tabs = [
      { tab: "tabSystem", panel: "panelSystem" },
      { tab: "tabRepo", panel: "panelRepo" },
      { tab: "tabDownload", panel: "panelDownload" },
    ];

    function setTab(activeId){
      tabs.forEach(({tab, panel}) => {
        const t = document.getElementById(tab);
        const p = document.getElementById(panel);
        const isActive = (tab === activeId);
        t.setAttribute("aria-selected", isActive ? "true" : "false");
        t.tabIndex = isActive ? 0 : -1;
        p.style.display = isActive ? "" : "none";
      });
    }

    tabs.forEach(({tab}) => {
      const el = document.getElementById(tab);
      el.addEventListener("click", () => setTab(tab));
      el.addEventListener("keydown", (e) => {
        if(e.key === "Enter" || e.key === " ") { e.preventDefault(); setTab(tab); }
      });
    });

    // Toast helper
    const toast = document.getElementById("toast");
    let toastTimer = null;
    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.remove("show"), 1200);
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        showToast("Copied.");
      }catch{
        showToast("Copy blocked.");
      }
    }

    // UI-only "Generate"
    const systemType = document.getElementById("systemType");
    const actionType = document.getElementById("actionType");

    const hintLine = document.getElementById("hintLine");
    const metaLoaded = document.getElementById("metaLoaded");

    const svgArea = document.getElementById("svgArea");
    const promptArea = document.getElementById("promptArea");
    const repoArea = document.getElementById("repoArea");
    const notesArea = document.getElementById("notesArea");

    function buildPrompt(){
      return [
        "Vibe Coded Studio — Canonical Image Prompt (SoT)",
        "",
        "Goal: Generate a clean, dark UI dashboard visual for a UI-only build generator.",
        "Style: neon-accent (magenta/blue), subtle grid, glass panels, premium.",
        "",
        "Sections:",
        `- System type: ${systemType.value}`,
        `- Action: ${actionType.value}`,
        "- Deliverables tabs: System Image / Repo Files / Download",
        "- Cards: System visualization (SVG), Canonical image prompt (SoT)",
        "",
        "Constraints:",
        "- No backend implied",
        "- Ownership-first language",
        "- Minimal, confident microcopy"
      ].join("\\n");
    }

    function buildRepoTree(){
      return [
        "Suggested repo scaffold (UI-only):",
        "",
        "/",
        "  index.html",
        "  assets/",
        "    vc-logo-transparent.png",
        "    vc-github-thumbnail.png",
        "  docs/",
        "    README.md",
        "    BOUNDARIES.md",
        "  LICENSE.md",
        "",
        "Notes:",
        "- Keep index.html at root for GitHub Pages",
        "- Put social thumbnail at /vc-github-thumbnail.png",
      ].join("\\n");
    }

    function buildNotes(){
      const a = actionType.value;
      const s = systemType.value;

      return [
        "Build notes (UI-only):",
        "",
        `System type: ${s}`,
        `Action: ${a}`,
        "",
        "What this produces:",
        "- A static UI shell that communicates deliverables and boundaries",
        "- Placeholder visualization + copy buttons for export workflows",
        "",
        "What this does NOT produce:",
        "- No file generation, no hosting, no automated publishing",
        "- No security/compliance guarantees",
      ].join("\\n");
    }

    function buildSvgStub(){
      // SVG stub (not a real diagram generator)
      return [
        "<svg width=\\"800\\" height=\\"240\\" viewBox=\\"0 0 800 240\\" xmlns=\\"http://www.w3.org/2000/svg\\">",
        "  <defs>",
        "    <linearGradient id=\\"g\\" x1=\\"0\\" y1=\\"0\\" x2=\\"1\\" y2=\\"1\\">",
        "      <stop offset=\\"0\\" stop-color=\\"#d9468d\\" stop-opacity=\\"0.9\\"/>",
        "      <stop offset=\\"1\\" stop-color=\\"#508cff\\" stop-opacity=\\"0.9\\"/>",
        "    </linearGradient>",
        "  </defs>",
        "  <rect x=\\"12\\" y=\\"12\\" width=\\"776\\" height=\\"216\\" rx=\\"18\\" fill=\\"rgba(255,255,255,0.04)\\" stroke=\\"rgba(255,255,255,0.14)\\"/>",
        "  <text x=\\"28\\" y=\\"56\\" fill=\\"rgba(255,255,255,0.92)\\" font-family=\\"system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial\\" font-size=\\"18\\" font-weight=\\"800\\">System Visualization (Stub)</text>",
        `  <text x=\\"28\\" y=\\"88\\" fill=\\"rgba(255,255,255,0.68)\\" font-family=\\"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New\\" font-size=\\"12\\">system: ${systemType.value}</text>`,
        `  <text x=\\"28\\" y=\\"108\\" fill=\\"rgba(255,255,255,0.68)\\" font-family=\\"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New\\" font-size=\\"12\\">action: ${actionType.value}</text>`,
        "  <circle cx=\\"110\\" cy=\\"160\\" r=\\"28\\" fill=\\"url(#g)\\"/>",
        "  <rect x=\\"170\\" y=\\"138\\" width=\\"160\\" height=\\"44\\" rx=\\"14\\" fill=\\"rgba(0,0,0,0.25)\\" stroke=\\"rgba(255,255,255,0.14)\\"/>",
        "  <rect x=\\"360\\" y=\\"138\\" width=\\"160\\" height=\\"44\\" rx=\\"14\\" fill=\\"rgba(0,0,0,0.25)\\" stroke=\\"rgba(255,255,255,0.14)\\"/>",
        "  <rect x=\\"550\\" y=\\"138\\" width=\\"210\\" height=\\"44\\" rx=\\"14\\" fill=\\"rgba(0,0,0,0.25)\\" stroke=\\"rgba(255,255,255,0.14)\\"/>",
        "  <text x=\\"190\\" y=\\"166\\" fill=\\"rgba(255,255,255,0.86)\\" font-size=\\"12\\" font-weight=\\"800\\" font-family=\\"system-ui, -apple-system\\">Docs</text>",
        "  <text x=\\"380\\" y=\\"166\\" fill=\\"rgba(255,255,255,0.86)\\" font-size=\\"12\\" font-weight=\\"800\\" font-family=\\"system-ui, -apple-system\\">Scaffold</text>",
        "  <text x=\\"570\\" y=\\"166\\" fill=\\"rgba(255,255,255,0.86)\\" font-size=\\"12\\" font-weight=\\"800\\" font-family=\\"system-ui, -apple-system\\">Visualization</text>",
        "</svg>"
      ].join("\\n");
    }

    document.getElementById("btnGenerate").addEventListener("click", () => {
      hintLine.textContent = "Generated. Review Deliverables.";
      metaLoaded.textContent = "Generated just now";

      // Fill placeholders
      svgArea.textContent = buildSvgStub();
      promptArea.textContent = buildPrompt();
      repoArea.textContent = buildRepoTree();
      notesArea.textContent = buildNotes();

      showToast("Build generated.");
    });

    document.getElementById("btnReset").addEventListener("click", () => {
      systemType.selectedIndex = 0;
      actionType.selectedIndex = 0;

      hintLine.textContent = "Ready. Click “Generate first build”.";
      metaLoaded.textContent = "Loaded last request";

      svgArea.textContent = "Generate a build to preview the system visualization.";
      promptArea.textContent = "Generate a build to produce the locked prompt.";
      repoArea.textContent = "Generate a build to preview the repo files list.";
      notesArea.textContent = "Generate a build to produce setup notes.";

      showToast("Reset.");
    });

    // Copy / download actions (UI-only)
    document.getElementById("btnCopyPrompt").addEventListener("click", () => copyText(promptArea.textContent));
    document.getElementById("btnCopyRepo").addEventListener("click", () => copyText(repoArea.textContent));
    document.getElementById("btnCopyNotes").addEventListener("click", () => copyText(notesArea.textContent));

    document.getElementById("btnDownloadSvg").addEventListener("click", () => {
      const svg = svgArea.textContent;
      if(!svg.trim().startsWith("<svg")){
        showToast("Generate first.");
        return;
      }
      const blob = new Blob([svg], { type: "image/svg+xml;charset=utf-8" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "vibe-coded-system.svg";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      showToast("SVG downloaded.");
    });

    document.getElementById("btnDownloadZip").addEventListener("click", () => {
      showToast("UI-only (no ZIP).");
    });

    // Keep the “Loaded last request” feeling
    const metaDeliverables = document.getElementById("metaDeliverables");
    function updateMeta(){
      metaDeliverables.textContent = `Action: ${actionType.value}`;
    }
    actionType.addEventListener("change", updateMeta);
    updateMeta();
  </script>
</body>
</html>
