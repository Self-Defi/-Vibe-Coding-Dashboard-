<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vibe Coding — Thought → Proof → Infrastructure</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- PDF generator (no build tools) -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.4/dist/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <header class="top">
    <div class="brand">
      <div class="brandText">
        <h1>Vibe Coding</h1>
        <p class="muted">Externalize → Generate Proof → Auto-lock Source of Truth</p>
      </div>
    </div>

    <div class="pillRow">
      <span class="pill" id="phasePill">Phase: 1–2</span>
      <span class="pill" id="industryPill">Industry: —</span>
      <span class="pill good" id="proofPill">Proof: Not generated</span>
      <span class="pill" id="sotPill">SOT: Not generated</span>
    </div>
  </header>

  <main class="grid">
    <!-- LEFT: Input + generation -->
    <section class="card">
      <h2>Phase 1–2: Externalized Thought</h2>
      <p class="muted">Pick an industry. Fill the 4-line externalization. Then generate your proof repo and SOT.</p>

      <div class="row">
        <label>Industry</label>
        <select id="industrySelect"></select>
      </div>

      <div class="row">
        <label>Artifact Type</label>
        <select id="artifactSelect">
          <option value="dashboard">Dashboard</option>
          <option value="alert">Alert Digest</option>
          <option value="workflow">Workflow Tracker</option>
          <option value="report">Report</option>
        </select>
      </div>

      <div class="divider"></div>

      <div class="row">
        <label>One Sentence</label>
        <textarea id="oneSentence" rows="2" placeholder='I want to build ______ for ______ so they can ______.'></textarea>
      </div>

      <div class="row">
        <label>Constraint</label>
        <textarea id="constraint" rows="2" placeholder='I will build the first proof in ___ hours using ___ tools.'></textarea>
      </div>

      <div class="row">
        <label>Output</label>
        <textarea id="output" rows="2" placeholder='The proof is done when it produces ____.'></textarea>
      </div>

      <div class="row">
        <label>Reality Test</label>
        <textarea id="realityTest" rows="2" placeholder='A stranger can understand it in under 60 seconds.'></textarea>
      </div>

      <div class="row inline">
        <button class="btn" id="btnAutofill">Autofill Example</button>
        <button class="btn primary" id="btnGenerate">Generate Stage 3 + Stage 4/5</button>
      </div>

      <div class="divider"></div>

      <h3>Optional: Proof URL (verification later)</h3>
      <p class="muted">Not required. Paste a GitHub Pages URL to validate availability.</p>
      <div class="row inline">
        <input id="proofUrl" type="url" placeholder="https://username.github.io/repo/" />
        <button class="btn" id="btnVerify">Verify URL</button>
      </div>
      <div id="verifyResult" class="muted"></div>
    </section>

    <!-- RIGHT: Outputs -->
    <section class="card">
      <h2>Outputs</h2>
      <p class="muted">Stage 3 repo files + Stage 4 Source-of-Truth PDFs + Stage 5 snapshot.</p>

      <div class="subcard">
        <div class="subhead">
          <h3>Stage 3 — Copy/Paste Repo Files</h3>
          <div class="subactions">
            <button class="btn" id="btnDownloadAll" disabled>Download all files</button>
          </div>
        </div>
        <div id="filesList" class="files"></div>
        <div id="fileViewer" class="viewer hidden">
          <div class="viewerTop">
            <div class="viewerTitle" id="viewerTitle">—</div>
            <div class="viewerActions">
              <button class="btn" id="btnCopy">Copy</button>
              <button class="btn" id="btnDownload">Download</button>
              <button class="btn" id="btnClose">Close</button>
            </div>
          </div>
          <pre id="viewerCode"></pre>
        </div>
      </div>

      <div class="subcard">
        <div class="subhead">
          <h3>Stage 4 — Source of Truth PDFs</h3>
          <div class="subactions">
            <button class="btn" id="btnPDF1" disabled>PDF 1 (Definition)</button>
            <button class="btn" id="btnPDF2" disabled>PDF 2 (Data)</button>
            <button class="btn" id="btnPDF3" disabled>PDF 3 (Workflow)</button>
            <button class="btn" id="btnPDF4" disabled>PDF 4 (Constraints)</button>
          </div>
        </div>
        <p class="muted">Generated automatically using your Stage 4 format.  [oai_citation:2‡Vibe-Coding_Stage-4_Source-of-Truth.pdf](sediment://file_00000000188471f59f49177ac523a57b)</p>
        <div id="sotPreview" class="monoBox"></div>
      </div>

      <div class="subcard">
        <div class="subhead">
          <h3>Stage 5 — What exists now + Next actions</h3>
          <div class="subactions">
            <button class="btn" id="btnDownloadStage5" disabled>Download Stage 5</button>
          </div>
        </div>
        <div id="stage5" class="monoBox"></div>
      </div>
    </section>
  </main>

  <footer class="foot">
    Default execution layer: <b>Static GitHub Pages</b>. Proof first. Canonical truth auto-generated next.
  </footer>

  <script src="templates.js"></script>
  <script src="app.js"></script>
</body>
</html>
